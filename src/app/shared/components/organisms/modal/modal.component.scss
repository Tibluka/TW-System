/* modal.component.scss */
@use 'abstracts/variables' as *;
@use 'abstracts/typography' as *;

.modal-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(1, 48, 71, 0.6); // Usando primary-dark com opacidade
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1050;
}

.modal-dialog {
    background: var(--white);
    border-radius: $border-radius-md; // 12px do design system
    box-shadow: 0 20px 50px rgba(1, 48, 71, 0.15),
        0 10px 25px rgba(1, 48, 71, 0.1),
        0 0 0 1px rgba(1, 48, 71, 0.05); // Múltiplas sombras para profundidade
    max-height: 90vh;
    overflow: hidden;
    margin: 1rem;
    border: 1px solid var(--stroke);
    will-change: transform, opacity, filter; // Otimização para animações Angular

    // Hover effect sutil
    &:hover {
        box-shadow: 0 25px 60px rgba(1, 48, 71, 0.2),
            0 15px 30px rgba(1, 48, 71, 0.15),
            0 0 0 1px rgba(1, 48, 71, 0.1);
    }

    // Tamanhos do modal
    &.modal-sm {
        max-width: 300px;
        width: 100%;
    }

    &.modal-md {
        max-width: 500px;
        width: 100%;
    }

    &.modal-lg {
        max-width: 800px;
        width: 100%;
    }

    &.modal-xl {
        max-width: 1140px;
        width: 100%;
    }

    &.modal-fullscreen {
        max-width: none;
        width: 95vw;
        height: 95vh;
        max-height: none;
        margin: 2.5vh 2.5vw;
    }
}

.modal-content {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: $padding-sm $padding-md; // 20px 24px do design system
    border-bottom: 1px solid var(--stroke);
    background-color: var(--tertiary);

    .modal-title {
        margin: 0;
        font-size: $font-xl;
        font-weight: 600;
        color: var(--white);
    }
}

.modal-body {
    padding: $padding-md; // 24px
    flex: 1;
    overflow-y: scroll;
    background-color: var(--white);
    max-height: calc(100vh - 200px);
    scrollbar-width: thin;
    scrollbar-color: rgba(1, 48, 71, 0.3) transparent;

    &::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }

    &::-webkit-scrollbar-track {
        background: transparent;
    }

    &::-webkit-scrollbar-thumb {
        background-color: rgba(1, 48, 71, 0.3);
        border-radius: 999px;
        border: 2px solid transparent;
        background-clip: content-box;

        &:hover {
            background-color: rgba(1, 48, 71, 0.5);
        }
    }
}

// Estado de foco para acessibilidade usando cores do sistema
.modal-dialog:focus {
    outline: 2px solid var(--primary-medium);
    outline-offset: 2px;
}

// Acessibilidade
@media (prefers-reduced-motion: reduce) {

    .modal-backdrop,
    .modal-dialog {
        transition: none;
    }
}

// Estado de foco para acessibilidade usando cores do sistema
.modal-dialog:focus {
    outline: 2px solid var(--primary-medium);
    outline-offset: 2px;
}