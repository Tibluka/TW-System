<!-- input.component.html - TEMPLATE CORRIGIDO -->
<div class="form-group" [ngStyle]="{
    'width': fullWidth ? '100%' : width
}">
    <!-- Label -->
    <label *ngIf="label" [for]="uniqueId" [class]="labelClasses">
        {{ label }}
    </label>

    <!-- Container do Input com Ícone -->
    <div class="input-container" [class.has-icon]="icon">
        <!-- Ícone -->
        <ds-icon *ngIf="icon" [icon]="icon" fontSize="24px" color="placeholder" [class]="'icon-' + iconPosition">
        </ds-icon>

        <!-- Input Field - 🔧 CORREÇÃO: Condicionalmente aplicar libMask -->
        <input [id]="uniqueId" [class]="inputClasses" [type]="type" [placeholder]="placeholder" [required]="required"
            [disabled]="disabled" [readonly]="readonly" [attr.maxlength]="maxlength" [attr.minlength]="minlength"
            [attr.step]="type === 'number' ? '0.01' : null" [attr.min]="type === 'number' ? '0' : null"
            [autocomplete]="autocomplete" [libMask]="hasMask ? mask : ''"
            [dropSpecialCharacters]="hasMask ? dropSpecialCharacters : false" [value]="safeValue"
            (input)="onInputChange($event.target)" (focus)="onInputFocus()" (blur)="onInputBlur()"
            (valueChange)="onMaskValueChange($event)" />
    </div>

    <!-- Mensagem de Erro -->
    <div *ngIf="showError" class="error-message">
        {{ errorMessage }}
    </div>

    <!-- Texto de Ajuda -->
    <div *ngIf="showHelper" class="helper-text">
        {{ helperText }}
    </div>
</div>