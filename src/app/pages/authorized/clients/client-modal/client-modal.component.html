
<div class="client-modal-container">


    <div *ngIf="isLoading" class="loading-overlay">
        <div class="loading-content">
            <ds-spinner size="48px" variant="outline"></ds-spinner>
            <p class="body label mt-16">Carregando dados do cliente...</p>
        </div>
    </div>

    <div class="modal-content-wrapper" [class.is-loading]="isLoading">


        <ds-tabs [tabs]="advancedTabs" [activeTabId]="currentTab" size="large" (tabChange)="handleTabChange($event)"
            (tabClick)="handleTabClick($event)">


            <ng-container [ngSwitch]="currentTab">

                <div *ngSwitchCase="'company'">
                    <app-company-data [parentForm]="clientForm"></app-company-data>
                </div>

                <div *ngSwitchCase="'contact'">
                    <app-contact-data [parentForm]="clientForm"></app-contact-data>
                </div>

                <div *ngSwitchCase="'address'">
                    <app-address-data [parentForm]="clientForm"></app-address-data>
                </div>

                <div *ngSwitchCase="'values'">
                    <app-values-data [parentForm]="clientForm"></app-values-data>
                </div>

            </ng-container>

        </ds-tabs>


        <div class="footer-actions">


            <ds-button label="Cancelar" variant="ghost" [disabled]="isSaving" (onClickEmitter)="onCancelClick()">
            </ds-button>


            <ds-button *ngIf="showBackButton" label="Voltar" variant="outline" icon="fa-solid fa-arrow-left"
                [disabled]="isSaving" (onClickEmitter)="onBackClick()">
            </ds-button>


            <ds-button [label]="isSaving ? 'Salvando...' : nextButtonLabel" [icon]="isSaving ? '' : nextButtonIcon"
                variant="fill" [isLoading]="isSaving" [disabled]="isNextButtonDisabled"
                (onClickEmitter)="onNextClick()">
            </ds-button>

        </div>

    </div>

</div>
